(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},78938,e=>{"use strict";async function t(e,t){let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});return{ok:r.ok,data:await r.json()}}async function r(e,t,r){let n=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,name:t,password:r})});return{ok:n.ok,data:await n.json()}}async function n(){await fetch("/api/auth/logout",{method:"POST"})}async function i(){return(await fetch("/api/auth/me")).ok}async function o(){let e=await fetch("/api/auth/me");return e.ok?e.json():null}e.s(["checkAuth",()=>i,"getMe",()=>o,"loginUser",()=>t,"logoutUser",()=>n,"registerUser",()=>r])},22140,74384,e=>{"use strict";var t=e.i(43476),r=e.i(18566);let n=[{icon:"ðŸ“Š",label:"Overview",href:"/dashboard"},{icon:"ðŸ“ˆ",label:"Analytics",href:"/analytics"},{icon:"ðŸ‘¥",label:"Users",href:"/users"},{icon:"ðŸ“¦",label:"Products",href:"/products"},{icon:"ðŸ’¬",label:"Messages",href:"/messages",badge:3},{icon:"âš™ï¸",label:"Settings",href:"/settings"}];function i(){let e=(0,r.usePathname)(),i=(0,r.useRouter)();return(0,t.jsxs)("aside",{style:{width:240,background:"rgba(10,14,26,0.95)",borderRight:"1px solid var(--border-color)",display:"flex",flexDirection:"column",flexShrink:0,backdropFilter:"blur(8px)"},children:[(0,t.jsx)("div",{style:{padding:"24px 20px",borderBottom:"1px solid var(--border-color)"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 36 36",fill:"none",children:[(0,t.jsx)("rect",{width:"36",height:"36",rx:"10",fill:"url(#g2)"}),(0,t.jsx)("path",{d:"M10 22L18 10L26 22H10Z",stroke:"#fff",strokeWidth:"2.2",strokeLinejoin:"round",fill:"none",opacity:"0.9"}),(0,t.jsx)("circle",{cx:"18",cy:"22",r:"3",fill:"#06b6d4"}),(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"g2",x1:"0",y1:"0",x2:"36",y2:"36",children:[(0,t.jsx)("stop",{stopColor:"#0f172a"}),(0,t.jsx)("stop",{offset:"1",stopColor:"#1e293b"})]})})]}),(0,t.jsx)("span",{style:{fontFamily:"var(--font-family-display)",fontSize:20,fontWeight:700,color:"var(--text-primary)"},children:"Nexus"})]})}),(0,t.jsx)("nav",{style:{flex:1,padding:"16px 12px",display:"flex",flexDirection:"column",gap:2},children:n.map(r=>{let n=e===r.href;return(0,t.jsxs)("div",{onClick:()=>i.push(r.href),style:{display:"flex",alignItems:"center",gap:12,padding:"10px 14px",borderRadius:10,cursor:"pointer",background:n?"rgba(6,182,212,0.1)":"transparent",border:n?"1px solid rgba(6,182,212,0.2)":"1px solid transparent",transition:"all 0.2s"},onMouseEnter:e=>{n||(e.currentTarget.style.background="rgba(255,255,255,0.03)")},onMouseLeave:e=>{n||(e.currentTarget.style.background="transparent")},children:[(0,t.jsx)("span",{style:{fontSize:18,width:22,textAlign:"center"},children:r.icon}),(0,t.jsx)("span",{style:{fontSize:13.5,color:n?"var(--accent-cyan)":"var(--text-secondary)",fontWeight:n?600:400,flex:1},children:r.label}),r.badge&&(0,t.jsx)("span",{style:{background:"var(--accent-rose)",color:"#fff",fontSize:11,fontWeight:600,borderRadius:10,padding:"2px 7px"},children:r.badge})]},r.label)})}),(0,t.jsxs)("div",{style:{padding:"16px 20px",borderTop:"1px solid var(--border-color)"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:11,textTransform:"uppercase",letterSpacing:"0.06em"},children:"Storage"}),(0,t.jsx)("span",{style:{color:"var(--text-secondary)",fontSize:11},children:"2.4 / 10 GB"})]}),(0,t.jsx)("div",{style:{height:4,background:"var(--bg-input)",borderRadius:2},children:(0,t.jsx)("div",{style:{height:"100%",width:"24%",background:"linear-gradient(90deg, var(--accent-cyan), var(--accent-violet))",borderRadius:2}})})]})]})}function o({user:e,onLogout:r,title:n="Dashboard Overview",subtitle:i}){let o=e?e.name.split(" ").map(e=>e[0]).join(""):"?",a=`Welcome back, ${e?.name} â€” here's what's happening`;return(0,t.jsxs)("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 28px",borderBottom:"1px solid var(--border-color)",background:"rgba(10,14,26,0.8)",backdropFilter:"blur(8px)",position:"sticky",top:0,zIndex:10},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontFamily:"var(--font-family-display)",fontSize:20,fontWeight:600,color:"var(--text-primary)",margin:0},children:n}),(0,t.jsx)("p",{style:{color:"var(--text-muted)",fontSize:12.5,margin:"2px 0 0"},dangerouslySetInnerHTML:{__html:i||a.replace(e?.name||"",`<strong style="color:var(--text-secondary)">${e?.name||""}</strong>`)}})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,background:"var(--bg-input)",border:"1px solid var(--border-color)",borderRadius:20,padding:"7px 14px",cursor:"pointer"},children:[(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:14},children:"ðŸ”"}),(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Searchâ€¦"})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)("div",{style:{width:36,height:36,borderRadius:"50%",background:"linear-gradient(135deg, var(--accent-cyan), var(--accent-violet))",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:13,fontWeight:700},children:o}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)("span",{style:{color:"var(--text-primary)",fontSize:13,fontWeight:500},children:e?.name}),(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:11},children:e?.role})]}),(0,t.jsx)("button",{onClick:r,style:{marginLeft:8,background:"none",border:"1px solid var(--border-color)",color:"var(--text-muted)",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",transition:"all 0.2s",fontFamily:"var(--font-family-body)"},onMouseEnter:e=>{e.target.style.borderColor="var(--accent-rose)",e.target.style.color="var(--accent-rose)"},onMouseLeave:e=>{e.target.style.borderColor="var(--border-color)",e.target.style.color="var(--text-muted)"},children:"Logout"})]})]})]})}e.s(["Sidebar",()=>i],22140),e.s(["TopBar",()=>o],74384)},94650,e=>{"use strict";var t=e.i(43476),r=e.i(22140),n=e.i(74384),i=e.i(71645),o=e.i(18566),a=e.i(78938);function s({title:e,subtitle:s,children:l}){let{user:d,loading:c,handleLogout:x}=function(){let e=(0,o.useRouter)(),[t,r]=(0,i.useState)(null),[n,s]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(async()=>{let t=await (0,a.getMe)();if(!t)return e.push("/login");r(t.user),s(!1)})()},[e]),{user:t,loading:n,handleLogout:async()=>{await (0,a.logoutUser)(),e.push("/login")}}}();return c?(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:[(0,t.jsx)("div",{style:{width:44,height:44,border:"3px solid var(--border-color)",borderTopColor:"var(--accent-cyan)",borderRadius:"50%",animation:"spin 0.7s linear infinite"}}),(0,t.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):d?(0,t.jsxs)("div",{style:{display:"flex",minHeight:"100vh"},children:[(0,t.jsx)(r.Sidebar,{}),(0,t.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",minWidth:0},children:[(0,t.jsx)(n.TopBar,{user:d,onLogout:x,title:e,subtitle:s}),(0,t.jsx)("main",{style:{flex:1,padding:"24px 28px",overflowY:"auto"},children:l(d)})]})]}):null}e.s(["PageShell",()=>s],94650)},15570,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(94650);function i(){let[e,i]=(0,r.useState)(null),[o,a]=(0,r.useState)(null),[s,l]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[x,p]=(0,r.useState)({}),u=(0,r.useRef)(null);if((0,r.useEffect)(()=>{fetch("/api/messages").then(e=>e.ok?e.json():null).then(e=>{e&&(i(e),a(e.conversations[0]?.id??null))})},[]),(0,r.useEffect)(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[o,x]),!e)return(0,t.jsx)(n.PageShell,{title:"Messages",subtitle:"Team conversations & notifications",children:()=>(0,t.jsx)("div",{style:{color:"var(--text-muted)",fontSize:14,marginTop:60,textAlign:"center"},children:"Loading messagesâ€¦"})});let f=e.conversations.find(e=>e.id===o),g=f?x[f.id]||f.messages:[],h=e.conversations.filter(e=>e.pinned),y=e.conversations.filter(e=>!e.pinned),v=s?e.conversations.filter(e=>e.contact.toLowerCase().includes(s.toLowerCase())||e.lastMessage.toLowerCase().includes(s.toLowerCase())):[...h,...y],b=()=>{if(!d.trim()||!f)return;let e={from:"You",text:d.trim(),time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),mine:!0};p(t=>({...t,[f.id]:[...t[f.id]||f.messages,e]})),c("")};return(0,t.jsx)(n.PageShell,{title:"Messages",subtitle:`${e.unreadCount} unread conversation${1!==e.unreadCount?"s":""}`,children:()=>(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"320px 1fr",gap:16,height:"calc(100vh - 140px)"},children:[(0,t.jsxs)("div",{className:"glass-card",style:{display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsx)("div",{style:{padding:"16px 16px 12px"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,background:"var(--bg-input)",border:"1px solid var(--border-color)",borderRadius:10,padding:"8px 12px"},children:[(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:14},children:"ðŸ”"}),(0,t.jsx)("input",{value:s,onChange:e=>l(e.target.value),placeholder:"Search conversationsâ€¦",style:{background:"none",border:"none",outline:"none",color:"var(--text-primary)",fontSize:13,flex:1,fontFamily:"var(--font-family-body)"}})]})}),(0,t.jsx)("div",{style:{display:"flex",gap:4,padding:"0 16px 12px",marginBottom:4},children:[{label:"All",count:e.conversations.length},{label:"Pinned",count:h.length},{label:"Unread",count:e.unreadCount}].map(e=>(0,t.jsxs)("span",{style:{fontSize:12,color:"var(--text-secondary)",background:"var(--bg-input)",borderRadius:6,padding:"4px 10px",display:"flex",alignItems:"center",gap:5,cursor:"pointer"},children:[e.label,e.count>0&&(0,t.jsx)("span",{style:{background:"rgba(6,182,212,0.2)",color:"var(--accent-cyan)",fontSize:10,fontWeight:700,borderRadius:8,padding:"1px 6px"},children:e.count})]},e.label))}),(0,t.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"0 8px 8px"},children:v.map(e=>{let r=e.id===o;return(0,t.jsxs)("div",{onClick:()=>a(e.id),style:{display:"flex",gap:10,padding:"10px 10px",borderRadius:10,cursor:"pointer",marginBottom:2,background:r?"rgba(6,182,212,0.08)":"transparent",border:r?"1px solid rgba(6,182,212,0.2)":"1px solid transparent",transition:"all 0.15s"},onMouseEnter:e=>{r||(e.currentTarget.style.background="rgba(255,255,255,0.03)")},onMouseLeave:e=>{r||(e.currentTarget.style.background="transparent")},children:[(0,t.jsx)("div",{style:{width:38,height:38,borderRadius:"50%",background:`linear-gradient(135deg, hsl(${50*e.id}, 60%, 45%), hsl(${50*e.id+70}, 50%, 35%))`,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:12,fontWeight:700,flexShrink:0},children:e.avatar}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("span",{style:{color:"var(--text-primary)",fontSize:13,fontWeight:e.unread>0?600:500},children:[e.contact," ",e.pinned&&(0,t.jsx)("span",{style:{fontSize:10},children:"ðŸ“Œ"})]}),(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:10.5},children:e.lastTime})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:2},children:[(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:12,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,marginRight:8},children:e.lastMessage}),e.unread>0&&(0,t.jsx)("span",{style:{background:"var(--accent-cyan)",color:"#fff",fontSize:10,fontWeight:700,borderRadius:10,padding:"2px 7px",flexShrink:0},children:e.unread})]})]})]},e.id)})})]}),(0,t.jsx)("div",{className:"glass-card",style:{display:"flex",flexDirection:"column",overflow:"hidden"},children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",borderBottom:"1px solid var(--border-color)",flexShrink:0},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,t.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",background:`linear-gradient(135deg, hsl(${50*f.id}, 60%, 45%), hsl(${50*f.id+70}, 50%, 35%))`,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:14,fontWeight:700},children:f.avatar}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"var(--text-primary)",fontSize:15,fontWeight:600},children:f.contact}),(0,t.jsxs)("div",{style:{color:"var(--accent-emerald)",fontSize:11,display:"flex",alignItems:"center",gap:4},children:[(0,t.jsx)("span",{style:{width:6,height:6,borderRadius:"50%",background:"var(--accent-emerald)",display:"inline-block"}}),"Online"]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("button",{style:{background:"var(--bg-input)",border:"1px solid var(--border-color)",color:"var(--text-muted)",borderRadius:8,padding:"6px 12px",fontSize:13,cursor:"pointer",fontFamily:"var(--font-family-body)"},children:"ðŸ“Ž"}),(0,t.jsx)("button",{style:{background:"var(--bg-input)",border:"1px solid var(--border-color)",color:"var(--text-muted)",borderRadius:8,padding:"6px 12px",fontSize:13,cursor:"pointer",fontFamily:"var(--font-family-body)"},children:"â‹®"})]})]}),(0,t.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:12},children:[g.map((e,r)=>(0,t.jsx)("div",{style:{display:"flex",justifyContent:e.mine?"flex-end":"flex-start"},children:(0,t.jsxs)("div",{style:{maxWidth:"72%"},children:[!e.mine&&r>0&&g[r-1].mine&&(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:11,marginBottom:4,display:"block"},children:e.from}),(0,t.jsx)("div",{style:{background:e.mine?"linear-gradient(135deg, var(--accent-cyan), #0891b2)":"rgba(30,45,77,0.5)",color:e.mine?"#fff":"var(--text-primary)",borderRadius:e.mine?"16px 16px 4px 16px":"16px 16px 16px 4px",padding:"10px 14px",fontSize:13.5,lineHeight:1.5},children:e.text}),(0,t.jsx)("div",{style:{color:"var(--text-muted)",fontSize:10.5,marginTop:4,textAlign:e.mine?"right":"left",paddingLeft:2},children:e.time})]})},r)),(0,t.jsx)("div",{ref:u})]}),(0,t.jsxs)("div",{style:{padding:"14px 16px",borderTop:"1px solid var(--border-color)",flexShrink:0},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,background:"var(--bg-input)",border:"1px solid var(--border-color)",borderRadius:12,padding:"10px 14px",transition:"border-color 0.25s, box-shadow 0.25s"},onFocus:e=>{e.currentTarget.style.borderColor="var(--accent-cyan)",e.currentTarget.style.boxShadow="0 0 0 3px rgba(6,182,212,0.12)"},onBlur:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.boxShadow="none"},children:[(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:18,cursor:"pointer"},children:"ðŸ˜Š"}),(0,t.jsx)("input",{value:d,onChange:e=>c(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),b()),placeholder:`Message ${f.contact}â€¦`,style:{flex:1,background:"none",border:"none",outline:"none",color:"var(--text-primary)",fontSize:14,fontFamily:"var(--font-family-body)"}}),(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:16,cursor:"pointer"},children:"ðŸ“Ž"}),(0,t.jsx)("button",{onClick:b,style:{background:d.trim()?"linear-gradient(135deg, var(--accent-cyan), #0891b2)":"var(--bg-card)",border:"none",borderRadius:8,width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",color:d.trim()?"#fff":"var(--text-muted)",fontSize:16,cursor:d.trim()?"pointer":"default",transition:"all 0.2s"},children:"â–¶"})]}),(0,t.jsx)("p",{style:{color:"var(--text-muted)",fontSize:10.5,margin:"6px 0 0",textAlign:"center"},children:"Press Enter to send Â· Shift+Enter for new line"})]})]}):(0,t.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",fontSize:15},children:"Select a conversation"})})]})})}e.s(["default",()=>i])}]);